[General]
# > 日志级别
loglevel = notify
show-error-page-for-reject = true

# > 允许Wi-Fi访问
allow-wifi-access = false

# > All Hybrid 网络并发
all-hybrid = false

# > IPv6 支持（默认关闭）
ipv6 = false

# > 测试超时（秒）
test-timeout = 5

# > Internet 测试 URL：二选一
internet-test-url = http://wifi.vivo.com.cn/generate_204
# internet-test-url = http://www.baidu.com

# > 代理测速 URL：二选一
proxy-test-url = http://www.google.com/generate_204
# proxy-test-url = http://cp.cloudflare.com/generate_204

# > 自定义 GeoIP 数据库（根据需求选一即可）
geoip-maxmind-url = https://raw.githubusercontent.com/Loyalsoldier/geoip/release/Country.mmdb
# geoip-maxmind-url = https://raw.githubusercontent.com/Hackl0us/GeoIP2-CN/release/Country.mmdb
# geoip-maxmind-url = https://github.com/Masaiki/GeoIP2-CN/raw/release/Country.mmdb

# > 排除简单主机名
exclude-simple-hostnames = true

# > DNS 服务器
dns-server = 223.5.5.5, 119.29.29.29
encrypted-dns-server = quic://dns.alidns.com
hijack-dns = 8.8.8.8:53, 8.8.4.4:53

# > 从 /etc/hosts 读取 DNS 记录
read-etc-hosts = true

# > 远程控制器
http-api-web-dashboard = true
use-default-policy-if-wifi-not-primary = false

# > 跳过代理
skip-proxy = 192.168.0.0/24, 10.0.0.0/8, 172.16.0.0/12, 127.0.0.1, localhost, *.local
# > Always Real IP
always-real-ip = *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com*.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, *.battlenet.com.cn, *.battlenet.com, *.blzstatic.cn, *.battle.net

# > Surge VIF
# tun-excluded-routes = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12
# tun-included-routes = 192.168.1.12/32

# > 禁用 GEOIP 自动更新
disable-geoip-db-auto-update = true

[Replica]
# > 隐藏 Apple 请求
hide-apple-request = false

# > 隐藏崩溃追踪器请求
hide-crash-reporter-request = true

# > 隐藏 UDP 会话
hide-udp = false

# > 关键词过滤器
keyword-filter-type = false

[Proxy]
Direct = direct
Reject = reject
Warp = wireguard, section-name=A55FFBB9, test-url=http://cp.cloudflare.com/generate_204
Warp2 = wireguard, section-name=A55FFBB8, test-url=http://cp.cloudflare.com/generate_204
Surge Pro = snell, 178.173.238.86, 2345, psk=U9ZBHNZNmxRoQDzn, version=4

[Proxy Group]
# 机场信息 (encode地址链接: https://www.urlencoder.org）
Proxy = select, DIRECT, Surge pro, Cloudflare, Free, JP, SG, US, no-alert=0, hidden=0, include-all-proxies=0

# 区域代理选择
Self-Sub = select, policy-path=https://sub.store/download/Self, update-interval=3600, hidden=0, no-alert=0, include-all-proxies=0

# 兜底策略
Final = select, Direct, Proxy, no-alert=0, hidden=0, include-all-proxies=0

# Auto
Auto = smart, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=Self-Sub, policy-regex-filter=^(?!.*(流量|重置|群组|套餐|官网|TG))

# Cloudflare
Surge pro = smart, Surge Pro, no-alert=0, hidden=0, include-all-proxies=0, policy-path=https://sub.store/download/Free%20Snell, update-interval=21600

# Free
Cloudflare = select, Warp2Sub, CF-CDN, CF-Trojan, CF-Pages, CF-Sub, CF-Github, no-alert=0, hidden=0, include-all-proxies=0

# OpenAI
Free = select, FreeSub-1, FreeSub-2, FreeSub-3, no-alert=0, hidden=0, include-all-proxies=0

# Speedtest
OpenAI = select, Proxy, US, JP, SG

# Microsoft
Speedtest = select, DIRECT, Proxy, Free, Cloudflare, no-alert=0, hidden=0, include-all-proxies=0

# Game
Microsoft = select, DIRECT, Proxy, US, JP, SG, no-alert=0, hidden=0, include-all-proxies=0

# Apple 服务
Game = select, DIRECT, Proxy, US, JP, SG, no-alert=0, hidden=0, include-all-proxies=0

# Twitter
Apple = select, DIRECT, Proxy, US, JP, SG, HK

# YouTube 视频
Twitter = select, Proxy, US, JP, SG

# Emby
YouTube = select, Proxy, JP, SG, US, no-alert=0, hidden=0, include-all-proxies=0

# Telegram 服务
Emby = select, DIRECT, Auto, Proxy, Cloudflare, Surge pro, US, JP, SG, no-alert=0, hidden=0, include-all-proxies=0

# 以下策略根据自己需求自行删除注释 "#" 即可。
# Disney+
# Disney+ = select, HK, TW, JP, SG, US

# Netflix
# Netflix = select, HK, TW, JP, SG, US

# Spotify
Telegram = select, Proxy, US, SG, JP, no-alert=0, hidden=0, include-all-proxies=0

# 国际流媒体服务
Spotify = select, Proxy, HK, TW, JP, SG, US

# 香港节点
Streaming = select, Proxy, Surge pro, US, JP, SG, no-alert=0, hidden=0, include-all-proxies=0

# 台湾节点
HK = smart, interval=600, tolerance=50, update-interval=86400, policy-regex-filter=(🇭🇰)|(港)|(Hong)|(HK), hidden=0, no-alert=0, include-all-proxies=0, include-other-group=Self-Sub

# 日本节点
Auto-HK-Free = smart, policy-regex-filter=(🇭🇰)|(港)|(Hong)|(HK), no-alert=0, hidden=0, include-all-proxies=0, include-other-group="Surge pro, Warp2Sub, CF-CDN"

# 新加坡节点
TW = smart, interval=600, tolerance=50, update-interval=86400, policy-regex-filter=(🇨🇳)|(台)|(Tai)|(TW), hidden=0, no-alert=0, include-all-proxies=0, include-other-group=Self-Sub

# 美国节点
JP = smart, interval=600, tolerance=50, update-interval=86400, policy-regex-filter=(🇯🇵)|(日)|(Japan)|(JP), hidden=0, no-alert=0, include-all-proxies=0, include-other-group=Self-Sub

# Warp
SG = smart, interval=600, tolerance=50, update-interval=86400, policy-regex-filter=(🇸🇬)|(新)|(Singapore)|(SG), hidden=0, no-alert=0, include-all-proxies=0, include-other-group=Self-Sub

# FreeSub
US = smart, interval=600, tolerance=50, update-interval=86400, policy-regex-filter=(🇺🇸)|(美)|(States)|(US), hidden=0, no-alert=0, include-all-proxies=1, include-other-group=Self-Sub

FreeSub-1 = smart, policy-path=https://sub.store/download/%E5%85%BB%E8%80%81, update-interval=0, no-alert=0, hidden=0, include-all-proxies=0

FreeSub-2 = smart, policy-path=https://sub.store/download/Netbridge, update-interval=0, no-alert=0, hidden=0, include-all-proxies=0

# Cloudflare
FreeSub-3 = smart, policy-path=https://sub.store/download/Free%20sub, update-interval=0, no-alert=0, hidden=0, include-all-proxies=0

Warp2Sub = smart, Warp, Warp2, no-alert=0, hidden=0, include-all-proxies=0

CF-CDN = smart, policy-path=https://sub.store/download/CF-CDN-Update, update-interval=0, no-alert=0, hidden=0, include-all-proxies=0

CF-Trojan = smart, policy-path=https://sub.store/download/cf-trojan, update-interval=0, no-alert=0, hidden=0, include-all-proxies=0

CF-Pages = smart, policy-path=https://sub.store/download/CF-Pages, update-interval=0, no-alert=0, hidden=0, include-all-proxies=0

CF-Sub = smart, policy-path=https://sub.store/download/CF-Sub, update-interval=0, no-alert=0, hidden=0, include-all-proxies=0, policy-regex-filter=(HK)|(SG)|(JP)|(US)

CF-Github = smart, policy-path=https://sub.store/download/CF-Gtihub, update-interval=43200, no-alert=0, hidden=0, include-all-proxies=0, policy-regex-filter=^(?!.*IPV6)


[Rule]
# > ——————
# > 防止应用循环请求
IP-CIDR,0.0.0.0/32,REJECT,no-resolve

# > 隐私保护
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Privacy.list,Reject

# > 运营商劫持或恶意网站
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Hijacking.list,Reject


# > ——————
# > 腾讯 WeChat ASN
IP-ASN,132203,Direct
IP-ASN,56040,Direct
IP-ASN,45090,Direct

# > 腾讯 WeChat
RULE-SET,https://raw.githubusercontent.com/NobyDa/Script/master/Surge/WeChat.list,Direct


# > ——————
# > 苹果服务
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Apple/Apple_All_No_Resolve.list,Apple


# > ——————
# > OpenAI
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/OpenAI/OpenAI.list,OpenAI


# > ——————
# > 微软服务
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Microsoft/Microsoft.list,Microsoft


# > ——————
# > Speedtest
RULE-SET,https://gh.surgee.me/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Speedtest/Speedtest.list,Speedtest


# > ——————
# > >社交平台
# > Telegram 服务
# Telegram DC1
# IP-ASN,59930,US,no-resolve
# Telegram DC3
# IP-ASN,211157,US,no-resolve
# Telegram DC5
# IP-ASN,62014,SG,no-resolve
RULE-SET,https://raw.githubusercontent.com/VirgilClyne/GetSomeFries/main/ruleset/ASN.Telegram.list,Telegram

# > Twitter
RULE-SET,https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Extra/X.list,Twitter


# > ——————
# > 游戏平台
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Epic/Epic.list,Game
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Steam/Steam.list,Game
# RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Sony/Sony.list,Game
# RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Nintendo/Nintendo.list,Game

# > ——————
# > 流媒体
# > YouTube 视频
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/YouTube/YouTube.list,YouTube

# Emby
RULE-SET,https://gh.surgee.me/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Emby/Emby.list,Emby

# > 以下规则根据自己需求自行删除注释"#"即可。
# > Disney+
# RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Video/DisneyPlus.list,Disney+
# > Netflix
# RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Video/Netflix.list,Netflix

# > Spotify
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Music/Spotify.list,Spotify

# > 国际流媒体服务
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Streaming.list,Streaming


# > ——————
# > Warp Zero-trust 测速与信息查询
IP-CIDR,162.159.36.1/32,Warp2Sub,no-resolve // Added for: https://162.159.36.1/cdn-cgi/trace
IP-CIDR6,2606:4700:4700::1111/128,Warp2Sub,no-resolve // Added for: https://[2606:4700:4700::1111]/cdn-cgi/trace
DOMAIN,zero-trust-client.cloudflareclient.com,Warp2Sub // Added for: https://zero-trust-client.cloudflareclient.com/v0i2308311933/reg/t.ad81e6d4-c51d-11ee-902f-f2025dd08e11


# > ——————
# > Proxy 二选一
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Global/Global_All_No_Resolve.list,Proxy
# RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Proxy/Proxy_All_No_Resolve.list,Proxy

# > 中国直连
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/China.list,Direct

# > Local Area Network 局域网
RULE-SET,LAN,Direct
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/release/rule/Surge/Lan/Lan.list,DIRECT

# > GeoIP China
GEOIP,CN,Direct

# > China ASN
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/ChinaASN/ChinaASN_Resolve.list,DIRECT

# > DNS 查询失败走Final规则
FINAL,Final,dns-failed


[Script]
摸鱼日历 = type=cron,timeout=30,cronexp="0 9,20 * * *",wake-system=0,script-path=https://raw.githubusercontent.com/Yuheng0101/X/main/Tasks/moyu.js,script-update-interval=0

节假提醒 = type=cron,timeout=30,script-path=https://raw.githubusercontent.com/smartmimi/conf/master/surge/timecard.js,script-update-interval=21600,cronexp="0 10,20 * * *",wake-system=0

黄历播报 = type=cron,timeout=30,cronexp="0 10,20 * * *",wake-system=0,script-path=https://raw.githubusercontent.com/TributePaulWalker/Profiles/main/JavaScript/Surge/wnCalendar.js,script-update-interval=21600

[Panel]
节假提醒 = script-name=节假提醒,update-interval=3600


[WireGuard A55FFBB9]
private-key = kOUmlxpP96iqLNg+ECJcSHOVTqNgVp1E4CbRIl9nplI=
self-ip = 172.16.0.2
self-ip-v6 = 2606:4700:110:8761:4508:5737:f62a:b673
dns-server = 1.1.1.1, 2606:4700:4700::1111
mtu = 1280
peer = (public-key = bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=, allowed-ips = "0.0.0.0/0, ::0/0", endpoint = 162.159.193.5:2408, keepalive = 45, client-id = 193/36/144)

[WireGuard A55FFBB8]
private-key = kOUmlxpP96iqLNg+ECJcSHOVTqNgVp1E4CbRIl9nplI=
self-ip = 172.16.0.2
self-ip-v6 = 2606:4700:110:8761:4508:5737:f62a:b673
dns-server = 1.1.1.1, 2606:4700:4700::1111
mtu = 1280
peer = (public-key = bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=, allowed-ips = "0.0.0.0/0, ::0/0", endpoint = 162.159.195.8:2408, keepalive = 45, client-id = 193/36/144)
